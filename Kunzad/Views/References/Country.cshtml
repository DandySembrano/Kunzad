@{
    Layout = "~/Views/Shared/_DataTableLayout3.cshtml";
}
<!-- Country List/DataTable -->
@section tableContent{
    <div ui-grid="gridOptionsCountry" ui-grid-exporter class="grid"></div>
}

<!-- Country/General Form -->
@section tab1Content{
    <div class="row" ng-show="selectedTab === tabPages[0]">
        <div class="alert alert-danger alert-sm" ng-show="isError">
            <i class="fa fa-remove pr10"></i>
            <strong>ERROR!</strong>    {{errorMessage}}
        </div>
        <div class="col-lg-6">
            <form class="form-horizontal" role="form">
                <div class="form-group form-group-sm">
                    <label class="col-md-3 control-label small">Code</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" placeholder=""
                               ng-model="countryItem.Code" ng-disabled="viewOnly" pattern=".{0,10}">
                    </div>
                </div>

                <div class="form-group form-group-sm">
                    <label class="col-md-3 control-label small">Name</label>
                    <div class="col-md-8">
                        <input type="text"
                               class="form-control"
                               placeholder=""
                               ng-model="countryItem.Name"
                               ng-disabled="viewOnly"
                               pattern=".{0,150}"
                               ng-change="initializeHeaderName()">
                    </div>
                </div>
            </form>
        </div>
    </div>
}

<!-- State/Province -->
@section tab2Content{
    <div ng-show="selectedTab === tabPages[1]">
        <button class="btn btn-sm pull-right" ng-click="openStateProvinceForm('Create')">
            <span class="glyphicon glyphicon-plus">
            </span>
        </button>
        <br />
        <br />
        <div ui-grid="gridOptionsStateProvince" ui-grid-exporter class="grid"></div>
    </div>
}

<!-- City/Municipality Form-->
@section tab3Content{
    <div ng-show="selectedTab === tabPages[2]">
        <button class="btn btn-sm pull-right" ng-click="openCityMunicipalityForm('Create')">
            <span class="glyphicon glyphicon-plus">
            </span>
        </button>
        <br />
        <br />
        <div ui-grid="gridOptionsCityMunicipality" ui-grid-exporter class="grid"></div>
    </div>
}

@RenderPage("~/Views/Shared/_ContextMenuStateProvince.cshtml")
@RenderPage("~/Views/Shared/_ContextMenuCityMunicipality.cshtml")

<!-- Modal for State/Province -->
<div id="modal-panel-stateProvince" class="popup-basic bg-none mfp-with-anim mfp-hide">
    <!-- begin: .panel -->
    <div class="panel">
        <div class="panel-heading">
            <span class="panel-title"><i class="glyphicon glyphicon-tasks"></i>{{stateProvinceAction}} State/Province</span>
        </div>
        <!-- end .panel-heading section -->
        <!-- Panel Body -->
        <div class="panel-body">
            <div class="alert alert-danger alert-sm" ng-show="isErrorStateProvince">
                <i class="fa fa-remove pr10"></i>
                <strong>ERROR!</strong>    {{errorMessageStateProvince}}
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <form class="form-horizontal" role="form">
                        <div class="form-group form-group-sm">
                            <label class="col-md-3 control-label small">Name</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control"
                                       ng-model="stateProvinceItem.Name" ng-disabled="viewOnly" pattern=".{0,150}">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- Panel Footer -->
        <div class="panel-footer text-right">
            <button class="btn btn-primary" type="submit"
                    ng-click="saveStateProvince(stateProvinceAction)">
                {{stateProvinceAction === 'Delete' ? 'Delete' : stateProvinceAction === 'Create' ? 'Create' : stateProvinceAction === 'Edit' ? 'Update' : 'Close'}}
            </button>
        </div>
    </div>
    <!-- end: .panel -->
</div>
<!-- end: .admin-form -->
<!-- Modal for City/Municipality -->
<div id="modal-panel-cityMunicipality" class="popup-basic bg-none mfp-with-anim mfp-hide">
    <!-- begin: .panel -->
    <div class="panel">
        <div class="panel-heading">
            <span class="panel-title"><i class="glyphicon glyphicon-tasks"></i>{{cityMunicipalityAction}} City/Municipality</span>
        </div>
        <!-- end .panel-heading section -->
        <!-- Panel Body -->
        <div class="panel-body">
            <div class="alert alert-danger alert-sm" ng-show="isErrorCityMunicipality">
                <i class="fa fa-remove pr10"></i>
                <strong>ERROR!</strong>    {{errorMessageCityMunicipality}}
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <form class="form-horizontal" role="form">
                        <div class="form-group form-group-sm">
                            <label class="col-md-3 control-label small">Name</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control"
                                       ng-model="cityMunicipalityItem.Name" ng-disabled="viewOnly" pattern=".{0,150}">
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
        <!-- Panel Footer -->
        <div class="panel-footer text-right">
            <button class="btn btn-primary" type="submit"
                    ng-click="saveCityMunicipality(cityMunicipalityAction)">
                {{cityMunicipalityAction === 'Delete' ? 'Delete' : cityMunicipalityAction === 'Create' ? 'Save' : cityMunicipalityAction === 'Edit' ? 'Update' : 'Close'}}
            </button>
        </div>
    </div>
    <!-- end: .panel -->
</div>
<!-- end: .admin-form -->
<!--Deletion Confirmation modal-->
<div id="modal-panel-confirmation" class="popup-basic bg-none mfp-with-anim mfp-hide">
    <div class="panel">
        <!--Modal Header-->
        <div class="panel-heading">
            <span class="panel-title"><i class="glyphicon glyphicon-tasks"></i>Delete Country {{dataItem.Name}}</span>
        </div>
        <!--Modal Body-->
        <div class="panel-body">
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group form-group-sm">
                        <label class="col-md-12 control-label text-dark">
                            Are you sure you want to delete this record
                            together with its ({{stateProvince.length}}) states/provinces and its corresponding city/municipalities?
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <!-- Panel Footer -->
        <div class="panel-footer text-right">
            <button class="btn btn-primary" type="submit" ng-click="apiDelete(countryItem.Id);; closeModalForm()">Delete</button>
            <button class="btn" type="submit" ng-click="closeModalForm()">Cancel</button>
        </div>
    </div>
</div>
<!--end of modal-->